{% extends "auctions/layout.html" %}

{% block body %}
<div class='container'>
    <div class='row'>
        <div class='col-12 text-center'>
            <h2>{{item.name}}</h2>
        </div> 
    </div>
    <div class='row'>
        <div class='col-4'>
            <img class='img-fluid'src="{{item.image.url}}" alt="{{item.name}}">
        </div>
        <div class='col-8'>
            <div class='row'>
                <strong>Description:</strong>
            </div>
            <div class='row p-2 text-justify'>
                <p>{{item.description}}</p>
            </div>
            <div class='row'>
                <strong>Category:</strong>
            </div>
            <div class='row p-2'>
                <p>{{item.category.name}}</p>
            </div>
            <div class='row'>
                <strong>Listed by:</strong>
            </div>
            <div class='row p-2'>
                <p>{{item.user.username}} on {{item.date_listed|date:'F d, Y'}}</p>
            </div>
            <div class='row'>
                {{count}} bid(s) so far.   
            </div>
            <div class='row'>
                <strong>Current Bid: </strong>             
            </div>
            <div class='row p-2'>
                <p><sup>$</sup>{{item.price|floatformat:2}}</p>
            </div>
            {% if user.is_authenticated and user.id != item.user.id %}
            <form method="POST">
                {%csrf_token%}
                <div class='row'>
                    <div class='col-6'>
                        <input class = 'form-control border border-primary float-right' 
                        name="bid" type="number" step=0.01 
                        placeholder="Must be greater than $ {{item.price|floatformat:2}}">
                    </div>
                    <div class='col-6'>
                        <input class='btn btn-primary float-left'type="submit" value="Place Bid">
                    </div>
                </div>
            </form> 
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}